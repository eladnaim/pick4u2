# ROADMAP – Pick4U

מסמך זה מסכם את האפיון וממפה אותו למשימות פעולה לפי הסוכנים שהוגדרו, כדי להתקדם במהירות במקביל.

## פייזינג והיקפים
- שלב 1 (MVP): הרשמה/כניסה, בחירת ישוב/קהילה, יצירת בקשת איסוף, צ׳אט בסיסי בין מבקש למאסף, אישור עסקה, תשלום (Stub), נוטיפיקציות בסיס, מפה ומיקום בסיסי.
- שלב 2: אימות מאסף (ת.ז/צילום), תמחור גמיש, חיוב עמלות חודשיות, דירוג משלוחן, פרסומות לאחר תשלום.
- שלב 3: אינטגרציות תשלום מלאות (Bit/PayBox), הרחבות לאיסוף מחנויות נוספות, פרסום חנויות באזור.

## חלוקת משימות לפי סוכנים

### Frontend UI
- מסכים: כניסה/הרשמה, בחירת קהילה/ישוב, יצירת בקשת איסוף, רשימת בקשות, צ׳אט, אישור עסקה, מסירת חבילה, תשלום (מסך ביניים), דירוג.
- משימות:
  - לבנות ניווט וסקלטים למסכים עיקריים (`src/pages/**`).
  - טפסים עם `react-hook-form` ו־`zod` לאימות קל.
  - טיפול מצבים: טעות, טעינה, ריק.
- DoD: מסכים רספונסיביים, ללא אזהרות TypeScript, ניווט תקין.

### Mobile/PWA
- נכסים: `manifest.json`, `icons/`, `splash/`, `sw.js`.
- משימות: התאמות PWA, הרשאת התקנה, בדיקות Lighthouse ≥ 90.
- DoD: התקנה תקינה, אייקונים מותאמים, Service Worker פעיל.

### Notifications
- משימות:
  - הגדרת Firebase Messaging (`public/firebase-messaging-sw.js`, `services/pushNotifications.ts`).
  - בקשת הרשאות, קבלת הודעות foreground/background.
  - טריגרים: מאסף הגיע למקום, בקשת איסוף חדשה, אישור עסקה.
- DoD: הודעות מתקבלות ומוצגות, תיעוד תרחישים.

### Maps/Location
- משימות: טעינת מפה עם `@googlemaps/js-api-loader`, קבלת מיקום משתמש, תצוגת נקודות איסוף/מאסף.
- DoD: מפת בסיס, היתרי מיקום, טיפול בשגיאות.

### Authentication
- משימות: כניסה/הרשמה בסיסית (ססמה), הכנה לביומטריה, ניהול מצב משתמש (`useAuth.ts`, `authService.ts`).
- DoD: כניסה/יציאה, שמירת סשן/טוקן, אימות שדות.

### Data/API
- משימות: מודל נתונים לבקשת איסוף, משתמשים, עסקאות, הודעות צ׳אט.
- תצורת Backend/Firebase (מפתחות ב־`.env`).
- DoD: CRUD לבקשות, טעינת/שמירת נתונים, טיפול שגיאות עקבי.

### QA
- משימות: תרחישים ידניים לזרימות קריטיות (בקשה→צ׳אט→אישור→מסירה→תשלום→דירוג), רספונסיביות.
- DoD: צ׳ק־ליסט זרימות עובד, באגים מתועדים.

### DevOps
- משימות: חיבור Git לרימוט, CI/CD (Vercel/Netlify), ניהול סביבות (`.env.example`).
- DoD: בניה ופריסה אוטומטית, מסמכי פריסה.

## אבני דרך (Milestones)
- M1: ניווט+Auth+קהילה+בקשה+צ׳אט בסיסי.
- M2: אישור עסקה+מסירה+Stub תשלום+נוטיפיקציות+מפה.
- M3: עמלות חודשיות+דירוג+פרסומות+תשלום אמיתי.

## הערות מהאפיון
- תשלום: Bit/PayBox/מזומן – להתחיל ב־Stub ותיעוד, לחבר בפייז 3.
- רגולציה: איסוף פרטי מזהים של מאסף (שלב 2), הצהרת שימוש ראוי.
- קהילות: בחירת ישוב ו־מיפוי נקודות איסוף (דואר/חנויות נוחות).

## קישורים רלוונטיים בפרויקט
- `AGENTS.md`, `CONTRIBUTING.md`, `.github/ISSUE_TEMPLATE/*`, `shadcn-ui/README.md`.
- אפיון: `uploads/פורמט אפיון אפליקציה מקיף.docx` (הומר ל־`uploads/spec.txt`).